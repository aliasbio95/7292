<!DOCTYPE html>
<html>
<head>
<title>M3U Player</title>
<style>
body {
  font-family: sans-serif;
}
#playlist {
  width: 400px;
  margin: 20px auto;
  border: 1px solid #ccc;
}
#playlist ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
#playlist li {
  padding: 10px;
  cursor: pointer;
}
#playlist li:hover {
  background-color: #eee;
}
#player {
  width: 600px;
  margin: 20px auto;
}
</style>
</head>
<body>

<h1>M3U Player</h1>

<div id="playlist">
  <ul></ul>
</div>

<audio id="player" controls></audio>

<script>
const playlistUl = document.querySelector('#playlist ul');
const player = document.getElementById('player');

// Fetch the m3u file (replace 'playlist.m3u' with your file name)
fetch('playlist.m3u')
  .then(response => response.text())
  .then(data => {
    // Parse the m3u data
    const lines = data.split('\n');
    let currentUrl = '';
    let currentTitle = ''; 

    lines.forEach(line => {
      if (line.startsWith('#EXTINF:')) {
        // Extract track information
        currentTitle = line.substring(8).split(',')[1]; 
      } else if (line.trim() !== '' && !line.startsWith('#')) {
        currentUrl = line;
        // Create a list item for each track
        const li = document.createElement('li');
        li.textContent = currentTitle; 
        li.addEventListener('click', () => {
          player.src = currentUrl;
          player.play();
        });
        playlistUl.appendChild(li);
      }
    });
  });
</script>

</body>
</html>
